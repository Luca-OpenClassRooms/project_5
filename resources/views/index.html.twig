{% extends "layout.html.twig" %}

{% block content %}
<section class="cta-section theme-bg-light py-5">
    <div class="container text-center single-col-max-width">
        <h2 class="heading">Blog</h2>
        <div class="intro">Bienvenue sur mon blog, ici vous trouverez des articles sur le développement web, le webdesign, les frameworks, les CMS, les langages de programmation, les outils, les bonnes pratiques, les méthodes de travail, etc.</div>
    </div>
</section>

<section class="blog-list px-3 py-5 p-md-5">
    <div class="container single-col-max-width">
        {% if posts is empty %}
            <div class="alert alert-warning">
                Aucun article n'a été trouvé.
            </div>
        {% else %}
            {% for post in posts.data %}
                <div class="item mb-5">
                    <div class="row g-3 g-xl-0">
                        <div class="col-2 col-xl-3">
                            <img class="img-fluid post-thumb " src="assets/images/blog/blog-post-thumb-{{ post.id }}.jpg" alt="{{ post.title }}">
                        </div>
                        <div class="col">
                            <h3 class="title mb-1"><a class="text-link" href="/blog/{{ post.slug }}">{{ post.title }}</a></h3>
                            <div class="meta mb-1">
                                <span class="date">Dernière modification : 27/01/2023</span>
                                <span class="comment"><a class="text-link" href="#">{{ post.comments_count }} commentaires</a></span>
                            </div>
                            <div class="intro">{{ post.short_content | raw }}</div>
                            <a class="text-link" href="/blog/{{ post.slug }}">Voir plus &rarr;</a>
                        </div>
                    </div>
                </div>
            {% endfor %}

            {% if posts.pages > 1 %}
                <nav class="blog-nav nav nav-justified my-5 gap-2">
                    {% if posts.current > 1 %}
                    <a class="nav-link-prev nav-item nav-link rounded" href="/?page={{ posts.current - 1 }}">
                        Précédent
                        <i class="arrow-prev fas fa-long-arrow-alt-left"></i>
                    </a>
                    {% endif %}

                    {% if posts.current < posts.pages %}
                    <a class="nav-link-next nav-item nav-link rounded" href="/?page={{ posts.current + 1 }}">
                        Suivant
                        <i class="arrow-next fas fa-long-arrow-alt-right"></i>
                    </a>
                    {% endif %}
                </nav>
            {% endif %}
        {% endif %}
    </div>
</section>
{% endblock %}